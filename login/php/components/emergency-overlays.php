<!-- Emergency Contacts Overlay -->
<div class="alert-overlay" id="emergencyOverlay">
    <div class="alert-container">
        <div class="alert-header">
            <h2 class="alert-title">Emergency Contacts</h2>
            <button class="close-alert" id="closeEmergency">&times;</button>
        </div>
        <div class="alert-content">
            <p>In case of emergency, please contact the following numbers immediately. For life-threatening situations, call the emergency hotline first.</p>
            
            <div class="emergency-grid">
                <div class="emergency-card">
                    <h3 style="font-size: 0.9rem;">Fire Emergency</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3;">Immediate response for fire incidents, rescue operations, and hazardous material situations.</p>
                    <div class="emergency-number" style="font-size: 0.8rem;">
                        <i class="fas fa-phone-alt"></i> 911
                    </div>
                </div>
                
                <div class="emergency-card">
                    <h3 style="font-size: 0.9rem;">Police Department</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3;">For criminal activities, traffic accidents, and public safety concerns.</p>
                    <div class="emergency-number" style="font-size: 0.8rem;">
                        <i class="fas fa-phone-alt"></i> 09298215539
                    </div>
                </div>
                
                <div class="emergency-card">
                    <h3 style="font-size: 0.9rem;">Medical Emergency</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3;">Ambulance service and medical emergencies.</p>
                    <div class="emergency-number" style="font-size: 0.8rem;">
                        <i class="fas fa-ambulance"></i> 0945-253-2198
                    </div>
                </div>
                
                <div class="emergency-card">
                    <h3 style="font-size: 0.9rem;">Disaster Management</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3;">For typhoons, floods, earthquakes, and other natural disasters.</p>
                    <div class="emergency-number" style="font-size: 0.8rem;">
                        <i class="fas fa-hurricane"></i> 0933-693-6444 or  0927-022-4884
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Important Contacts Overlay -->
<style>
#contactsOverlay .emergency-card,
#contactsOverlay .emergency-card *,
#contactsOverlay .emergency-number,
#contactsOverlay .emergency-number *,
#contactsOverlay h3,
#contactsOverlay p,
#contactsOverlay i {
    color: white !important;
}
#contactsOverlay .emergency-card {
    background-color: transparent !important;
    border-color: white !important;
}
</style>
<div class="alert-overlay" id="contactsOverlay">
    <div class="alert-container">
        <div class="alert-header">
            <h2 class="alert-title">Important Contacts</h2>
            <button class="close-alert" id="closeContacts">&times;</button>
        </div>
        <div class="alert-content">
            <p class="mb-3 small">Important contact numbers for various city services and departments.</p>
            
            <div class="emergency-grid">
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">Bago City Hospital</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">Rafael Salas Drive, Barangay Balingasag, Bago City</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-hospital" style="color: white !important;"></i> 0945-253-2198
                    </div>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-phone-alt" style="color: white !important;"></i> (034) 461-0552 or (034) 435-1690
                    </div>
                </div>
                
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">City Health Office</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">For public health concerns and non-emergency medical inquiries.</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-user-md" style="color: white !important;"></i> 0967-632-5766
                    </div>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-phone-alt" style="color: white !important;"></i> (034) 461-0118
                    </div>
                </div>
                
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">DRRM Office / Rescue</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">24/7 disaster response and rescue operations.</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-hurricane" style="color: white !important;"></i> 0933-693-6444 or 0927-022-4884
                    </div>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-phone-alt" style="color: white !important;"></i> (034) 473-0043
                    </div>
                </div>
                
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">Philippine Red Cross</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">Emergency response and humanitarian services.</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-cross" style="color: white !important;"></i> (034) 434-8541
                    </div>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-mobile-alt" style="color: white !important;"></i> 0995-128-1588 or 0920-216-3069
                    </div>
                </div>
                
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">Ma-ao Volunteers Rescue</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">Volunteer rescue unit for emergency assistance.</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-hands-helping" style="color: white !important;"></i> 0966-579-6001
                    </div>
                </div>
                
                <div class="emergency-card" style="color: white !important;">
                    <h3 style="font-size: 0.9rem; color: white !important;">Nationwide Emergency</h3>
                    <p style="font-size: 0.75rem; line-height: 1.3; color: white !important;">Police, Fire, Medical emergency hotline.</p>
                    <div class="emergency-number" style="font-size: 0.8rem; color: white !important;">
                        <i class="fas fa-phone-alt" style="color: white !important;"></i> 911
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<?php
// Include the announcements function
require_once __DIR__ . '/../../functions/get_announcements.php';
$announcementsData = getPublicAnnouncements();
$announcements = $announcementsData['success'] ? $announcementsData['announcements'] : [];
?>

<!-- Announcements Overlay -->
<div class="alert-overlay" id="announcementsOverlay">
    <div class="alert-container">
        <div class="alert-header">
            <h2 class="alert-title">Public Announcements</h2>
            <button class="close-alert" id="closeAnnouncements">&times;</button>
        </div>
        <div class="alert-content">
            <p class="mb-3 small">Latest announcements and advisories from Bago City Fire Station.</p>
            
            <?php if (empty($announcements)): ?>
                <div class="announcement-item">
                    <div class="announcement-date small"><?php echo date('F j, Y'); ?></div>
                    <h3 class="announcement-title h6">No Current Announcements</h3>
                    <p class="small">There are no active announcements at this time. Please check back later for updates.</p>
                </div>
            <?php else: ?>
                <?php foreach ($announcements as $announcement): ?>
                    <div class="announcement-item mb-3">
                        <div class="announcement-date small">
                            <?php echo date('F j, Y', strtotime($announcement['created_at'])); ?>
                            <?php if ($announcement['priority'] === 'high'): ?>
                                <span class="priority-badge high">High Priority</span>
                            <?php elseif ($announcement['priority'] === 'medium'): ?>
                                <span class="priority-badge medium">Medium Priority</span>
                            <?php endif; ?>
                        </div>
                        <h3 class="announcement-title h6"><?php echo htmlspecialchars($announcement['title']); ?></h3>
                        <p class="small"><?php echo nl2br(htmlspecialchars($announcement['content'])); ?></p>
                        <div class="announcement-meta">
                            <small>Posted by: <?php echo htmlspecialchars($announcement['author_name']); ?> 
                            (<?php echo ucfirst($announcement['source']); ?>)</small>
                        </div>
                    </div>
                <?php endforeach; ?>
            <?php endif; ?>
        </div>
    </div>
</div>

<!-- Safety Tips Overlay -->
<div class="alert-overlay" id="tipsOverlay">
    <div class="alert-container">
        <div class="alert-header">
            <h2 class="alert-title">Fire Safety Tips</h2>
            <button class="close-alert" id="closeTips">&times;</button>
        </div>
        <div class="alert-content">
            <p class="mb-3 small">Essential fire safety tips to protect your home and family.</p>
            
            <div class="row g-2">
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Install Smoke Alarms</h3>
                        <p class="small">Place smoke alarms on every level of your home, inside bedrooms and outside sleeping areas. Test them monthly and replace batteries at least once a year.</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Create an Escape Plan</h3>
                        <p class="small">Develop a fire escape plan with two ways out of every room. Practice it with all family members at least twice a year.</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Kitchen Safety</h3>
                        <p class="small">Never leave cooking unattended. Keep flammable items away from the stove. Turn pot handles inward to prevent spills.</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Electrical Safety</h3>
                        <p class="small">Don't overload outlets. Replace damaged cords. Use bulbs with the correct wattage for fixtures.</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Heating Safety</h3>
                        <p class="small">Keep anything flammable at least 3 feet from heating equipment. Turn portable heaters off when leaving the room or going to bed.</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="tip-item">
                        <h3 class="tip-title h6">Stop, Drop, and Roll</h3>
                        <p class="small">If your clothes catch fire, stop immediately, drop to the ground, and roll to extinguish the flames. Cover your face with your hands.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 